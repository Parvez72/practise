'use strict';

const config = require('../config');
const axios = require('axios');
const NODE_ENVIRONMENT = process.env['NODE_ENV'];
const axiosInstance = axios.create({
    baseURL: config.urls.AI_BACKEND_SERVICE,
    headers: {"x-auth-token": process.env['apiKey']}
});


module.exports = {
    getJourney: function (intent, bot) {
        return axiosInstance.get(`/journey/getbyslug/${intent}?bot=${bot}`).then((response) => {
            return response.data.data.data;
        })
    },
    getStep: function (intent, slug, bot) {
        return axiosInstance.get(`/step/get/${slug}/${intent}?bot=${bot}`).then((response) => {
            return response.data.data.data;
        })
    },
    getMultipleJourneysBySlug: function (journeySlugs, bot) {
        return axiosInstance.post(`/journey/getmultiple?bot=${bot}`, {journeySlugs}).then((response) => {
            return response.data.data.data;
        })
    },

};

